<!DOCTYPE html>
    <head>
        {% include 'header.html' %}

        <!-- check head -->
        <title>Credit Cards by Nasko</title>
        <meta name="viewport"
            content="width=device-width, intital-scale=1">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>

        {% include 'navbar.html' %}

        <div class="modal fade" id="addCardModal">
          <div class="modal-dialog">
            <div class="modal-content">
        
              <!-- Modal Header -->
              <div class="modal-header">
                <h4 class="modal-title">Add a New Credit Card</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
              </div>
        
              <!-- Modal body -->
              <div class="modal-body">
                <form id="add-card-popup" action="addcreditcard" method="POST">
                  <div class="container-fluid">
                    <label for="text" class="form-label">Card Name:</label>
                    <input type="text" class="form-control" id="name" placeholder="Enter Credit Card Name">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Bank Name:</label>
                    <input type="text" class="form-control" id="bank" placeholder="Enter Associated Bank">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Annual Fee:</label>
                    <input type="text" class="form-control" id="aunf" placeholder="Enter Possible Annual Fee">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Recommended Credit Score:</label>
                    <input type="text" class="form-control" id="rcs" placeholder="Enter Recommended Credit Score">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Sign-Up Bonus:</label>
                    <input type="text" class="form-control" id="bonus" placeholder="Enter Any Sign-Up Bonuses">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Pros:</label>
                    <input type="text" class="form-control" id="pros" placeholder="Enter any Pros to getting this card">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Cons:</label>
                    <input type="text" class="form-control" id="cons" placeholder="Enter any Cons to getting this card">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="comment">Details:</label>
                    <textarea class="form-control" rows="5" id="details" name="text"></textarea> 
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Application Link:</label>
                    <input type="text" class="form-control" id="apply" placeholder="Enter the application link for this car">
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="comment">Advice:</label>
                    <textarea class="form-control" rows="5" id="advice" name="text"></textarea> 
                  </div>
                  <hr>
                  <div class="container-fluid">
                    <label for="text" class="form-label">Admin Verification Key:</label>
                    <input type="password" class="form-control" id="key" placeholder="Enter Verification Key" name="pswd">
                  </div>
                  <hr>
                  <button id="addCardButton" type="submit" class="btn btn-primary" disabled>Submit</button>
                </form> 
              </div>
        
              <!-- Modal footer -->
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
              </div>
        
            </div>
          </div>
        </div>
  

        <div class="content vertical-flex-container" id="admin-main-content">

              <br>
              <div id="addcardsection" class="container-fluid bg-light" style="padding:10px 10px;">
                <div class="row">
                  <div class="col-sm">
                      <p><b>For Admins Only: </b>Admins can add new beginner credit card offers</p>
                  </div>
                  <div class="col-sm">
                    <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#addCardModal">
                      Add Credit Card
                    </button>
                  </div>
                </div>
              </div>
              <br>
              <div>
                <h2>Credit Cards Database</h2>
                <p>Choose from any of the following credit card offers and apply to get your first
                    or next credit card:</p>
                <table class="table table-hover table-striped">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Bank</th>
                      <th>Annual Fee</th>
                      <th>Recommended Credit Score</th>
                      <th>Bonus</th>
                      <th>Pros</th>
                      <th>Cons</th>
                      <th>Details</th>
                      <th>Application Link</th>
                      <th>Advice</th>
                    </tr>
                  </thead>
                  <tbody>
                  {% for card in cards %}
                    <tr>
                      <td>{{card.get_name()}}</td>
                      <td>{{card.get_bank()}}</td>
                      <td>{{card.get_afee()}}</td>
                      <td>{{card.get_creditscore()}}</td>
                      <td>{{card.get_bonus()}}</td>
                      <td>{{card.get_pros()}}</td>
                      <td>{{card.get_cons()}}</td>
                      <td>{{card.get_details()}}</td>
                      <td><a href = {{card.get_link()}}>Apply Here</a></td>
                      <td>{{card.get_advice()}}</td>
                    </tr>
                  {% endfor %}
                  <tr>
                    <td>DiscoverIt</td>
                    <td>Discover</td>
                    <td>$0</td>
                    <td>630-689</td>
                    <td>Cashback Match, 5% cashback, etc.</td>
                    <td>No annual fee; Qualify with limited/bad credit;
                        Bonus categories; Intro APR period;
                          Reports to the three major credit bureaus</td>
                    <td>Complicated awards</td>
                    <td>0% intro APR on Purchases for 6 months and 10.99% intro APR on Balance Transfers for 6 months</td>
                    <td><a href = 'https://www.discover.com/products/student-it-af.html?sc=RJUK&cmpgnid=ls-dca-ir-student-it-RJUK-dtop-980&irgwc=1&gclid=_srytbrlzfokf63ubmv30kbtmsv2xtliknf3jh9zp00&sid=04664157&pid=170911&aid=568217&source=Affiliates&sku=110' target="_blank" rel="noopener noreferrer">Apply Here</a></td>
                    <td>Make sure to apply with a realistic income when applying for this card</td>
                  </tr>
                  </tbody>
                </table>
              </div>

        </div>

        <div class="container-fluid bg-success" style="color: white; text-align: center;">
            <p>Created by Atanas (Nasko) Tenev | Class of 2023 | Princeton University Department of Computer Science</p>
        </div>
    
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">

    </script>

    <script>
      'use strict';

      function checkIfInputsFilled() {
        if ($('#name').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('bank').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#aunf').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#rcs').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#bonus').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#pros').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#cons').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#details').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#apply').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#advice').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        if ($('#key').val() == '') {
            $('#addCardButton').prop('disabled', true);
            return;
        }

        $('#addCardButton').prop('disabled', false);
      }
    
      function setup() {
          checkIfInputsFilled();

          $('#name').on('keyup', checkIfInputsFilled);
          $('#bank').on('keyup', checkIfInputsFilled);
          $('#aunf').on('keyup', checkIfInputsFilled);
          $('#rcs').on('keyup', checkIfInputsFilled);
          $('#bonus').on('keyup', checkIfInputsFilled);
          $('#pros').on('keyup', checkIfInputsFilled);
          $('#cons').on('keyup', checkIfInputsFilled);
          $('#details').on('keyup', checkIfInputsFilled);
          $('#apply').on('keyup', checkIfInputsFilled);
          $('#advice').on('keyup', checkIfInputsFilled);
          $('#key').on('keyup', checkIfInputsFilled);
      }

      $('document').ready(setup);
    </script>
    </body>
</html>